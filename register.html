<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Printâ€‘IT â€” Register</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body class="centered">
  <main class="card auth-card">
    <img src="assets/logo.png" alt="Printâ€‘IT" class="logo" />
    <h1>Create an Account</h1>
    <p class="muted">Choose your role and fill the form.</p>

    <form id="registerForm" class="form">
      <label>Full Name
        <input type="text" id="regName" placeholder="Juan Dela Cruz" required />
      </label>
      <label>Email
        <input type="email" id="regEmail" placeholder="you@example.com" required />
      </label>
      <label>Password
        <div class="password-field">
          <input type="password" id="regPassword" placeholder="Create a password" required />
          <button type="button" class="icon-btn" id="toggleRegPw" aria-label="Show/Hide Password">ğŸ‘ï¸</button>
        </div>
      </label>
      <label>Role
        <select id="regRole" required>
          <option value="user">User</option>
          <option value="vendor">Vendor</option>
        </select>
      </label>
      <label class="hide" id="vendorNameWrap">Vendor/Shop Name
        <input type="text" id="vendorName" placeholder="e.g., Lucena QuickPrint" />
      </label>
      <button class="btn primary" type="submit">Sign Up</button>
      <p class="muted">Already have an account? <a href="index.html">Log in</a></p>
    </form>
  </main>

  <script src="js/data.js"></script>
  <script src="js/app.js"></script>
  <script>
    const roleSel = document.getElementById('regRole');
    const vendorWrap = document.getElementById('vendorNameWrap');
    roleSel.addEventListener('change', () => {
      vendorWrap.classList.toggle('hide', roleSel.value !== 'vendor');
      document.getElementById('vendorName').required = roleSel.value === 'vendor';
    });
    document.getElementById('toggleRegPw').onclick = () => togglePassword('regPassword');
    document.getElementById('registerForm').addEventListener('submit', (e) => {
      e.preventDefault();
      register({
        name: regName.value.trim(),
        email: regEmail.value.trim(),
        password: regPassword.value,
        role: regRole.value,
        vendorName: vendorName.value.trim()
      });
    });
  </script>
</body>
</html>
